<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="shortcut icon" href="../img/icon.png" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Italiana&display=swap" rel="stylesheet">
    <script src="./app.js" module></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
          theme: {
            extend: { 
              colors: {
                clifford: '#15324D',
            },
              fontFamily: {
        'fontee': ['Italiana', 'serif']
          },
          textShadow: {
        'custom': '20px 40px 20px rgba(179, 179, 179, 10)',
      }
        }
        }
        }
      </script>
      
    <title>Sabor & Prazer</title>
</head>
<body>
    <header>

      <!-- IMG decoração -->
        <div class="fixed w-full h-[200px] ">
            <img src="../img/imgDecoracao.png" class="w-full h-[170px]" alt="Imagem-Decoração">
        </div>

    </header>

    <main>

      <!-- Logo lanchonete -->
        <div class="fixed left-[38%] top-[200px]">
            <h1 class="text-[70px] font-fontee text-custom ">Sabor & Prazer</h1>
        </div> 

      <!-- Div de decoração que guarda o LOGIN -->
        <div class="fixed w-[550px] h-[400px] left-[36%] bg-[#FAFAFA] top-[320px] shadow-[0_35px_60px_-15px_rgba(0.5,0.3,0.3,0.5)] ">

      <!-- input e-mail -->
        <div class="mb-4  gap items-center">
           <label for="email" class="block pl-[52px] text-black font-bold text-justify mb-2 mt-[74px]">Email</label>
           <input type="email" id="email" name="email" class="w-[440px] px-5 py-2 border rounded-[20px] text-gray-700
            focus:outline-none focus:border-indigo-500 ml-[50px]" placeholder="Digite seu email" required>
        </div>

      <!-- input da senha -->
        <div class="mb-4">
           <label for="password" class="block pl-[52px] text-black font-bold mb-2  text-justify ">Senha</label>
           <input type="password" id="senha" name="password" class="w-[440px] px-3 py-2 border ml-[50px] rounded-[20px]
           text-gray-700 focus:outline-none focus:border-indigo-500" placeholder="Digite sua senha" required>
        </div>

      <!-- link do esqueceu sua senha (sem funcionamento ainda) -->
        <a href="#" onclick="enviarEmail(); return false;" class="block text-right text-xs text-[#60AC25] mt-1 mr-[60px]">Esqueceu sua senha?</a>
    
        <div class="fixed pl-[230px] pt-[20px]">
          <button type="submit" class="w-[150px] bg-[#A2C91F] rounded-[20px] text-white py-2 px-4 focus:outline-none focus:bg-[#60AC25] ml-[100px]" onclick="login()">
           Entrar
          </button>
        </div>

    </div>

    

    </main>

    <footer>

      <div class="fixed left-[46%] bottom-[2px]">
         <p class="text-[10px]">@SENAI_DS2BIT_2024</p>
    </div>

    </footer>
    <script>
      function login() {
          var email = document.getElementById("email").value;
          var senha = document.getElementById("senha").value;

   
          var url = "http://localhost:8080/v1/lanchonete/usuario";

         
          fetch(url)
          .then(response => response.json())
          .then(data => {
   
              var usuario = data.usuario.find(user => user.email === email && user.senha === senha);
              if (usuario) {
                localStorage.setItem('id', usuario.id_usuario)
                  window.location.href = "../telaHome/telaHome.html";
              } else {
                  alert("Email ou senha incorretos");
              }
          })
          .catch(error => console.error('Erro ao fazer login:', error));
      }
  </script>
    
</body>
</html>